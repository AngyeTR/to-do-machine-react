(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,function(e,t,a){e.exports=a(34)},,,,,,,,function(e,t,a){},,function(e,t,a){},,function(e,t,a){},,function(e,t,a){},,function(e,t,a){},,function(e,t,a){},,function(e,t,a){},,function(e,t,a){},,function(e,t,a){},,function(e,t,a){},,function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(5),c=a.n(r),l=(a(14),a(2)),u=a(1);function d(){var e=function(e,t){var a=o.a.useState(!1),n=Object(u.a)(a,2),r=n[0],c=n[1],l=o.a.useState(!0),d=Object(u.a)(l,2),s=d[0],i=d[1],m=o.a.useState(t),p=Object(u.a)(m,2),f=p[0],E=p[1],g=o.a.useState(!0),h=Object(u.a)(g,2),T=h[0],v=h[1];return o.a.useEffect(function(){setTimeout(function(){try{var a,n=localStorage.getItem(e);n?a=JSON.parse(n):(localStorage.setItem(e,JSON.stringify(t)),a=t),E(a)}catch(r){c(r)}finally{i(!1)}},2e3)},[T]),{item:f,saveItem:function(t){try{var a=JSON.stringify(t);localStorage.setItem(e,a),E(t)}catch(r){c(r)}},loading:s,error:r,syncUp:function(){i(!0),v(!1)}}}("TODOS_V1",[]),t=e.item,a=e.saveItem,n=e.loading,r=e.error,c=e.syncUp,d=o.a.useState(""),s=Object(u.a)(d,2),i=s[0],m=s[1],p=o.a.useState(!1),f=Object(u.a)(p,2),E=f[0],g=f[1],h=t.filter(function(e){return!!e.completed}).length,T=t.length,v=[];v=!i.length>=1?t:t.filter(function(e){var t=e.text.toLowerCase(),a=i.toLowerCase();return t.includes(a)});return{loading:n,error:r,totalTodos:T,completedTodos:h,searchValue:i,setSearchValue:m,searchedTodos:v,addTodo:function(e){var n=Object(l.a)(t);n.push({completed:!1,text:e}),a(n)},completeTodo:function(e){var n=t.findIndex(function(t){return t.text===e}),o=Object(l.a)(t);o[n].completed=!o[n].completed,a(o)},deleteTodo:function(e){var n=t.findIndex(function(t){return t.text===e}),o=Object(l.a)(t);o.splice(n,1),a(o)},openModal:E,setOpenModal:g,synTodos:c}}function s(e){var t=e.children,a=e.loading;return o.a.createElement("header",null,o.a.Children.toArray(t).map(function(e){return o.a.cloneElement(e,{loading:a})}))}a(16);function i(e){var t=e.totalTodos,a=e.completedTodos,n=e.loading;return o.a.createElement("h2",{className:"TodoCounter ".concat(!!n&&"TodoCounter--loading")}," Has Completado ",a," de ",t," Tareas")}a(18);function m(e){var t=e.searchValue,a=e.setSearchValue,n=e.loading;return o.a.createElement("input",{placeholder:"Buscar",className:"todoSearch",onChange:function(e){console.log(e.target.value),a(e.target.value)},value:t,disabled:n})}a(20);function p(e){var t=e.children||e.render;return o.a.createElement("section",{className:"todoList TodoList-container"},e.error&&e.onError(),e.loading&&e.onLoading(),!e.loading&&!e.totalTodos&&e.onEmptyTodos(),!e.loading&&!e.error&&e.searchedTodos.map(t),!!e.totalTodos&&!e.searchedTodos.length&&e.onEmptySearchResults(e.searchText),o.a.createElement("ul",null,e.children))}a(22);function f(e){return o.a.createElement("li",{className:"todoItem"},o.a.createElement("span",{className:"icon icon-check ".concat(e.completed&&"icon-check--active"),onClick:e.onComplete},"\u221a"),o.a.createElement("p",{className:"todoItem-p ".concat(e.completed&&"todoItem-p--complete")},e.text),o.a.createElement("span",{className:"icon icon-delete",onClick:e.onDelete},"X"))}function E(){return o.a.createElement("p",null,"Desesp\xe9rate, hubo un error...")}a(24);function g(){return o.a.createElement("div",{className:"LoadingTodo-container"},o.a.createElement("span",{className:"LoadingTodo-completeIcon"}),o.a.createElement("p",{className:"LoadingTodo-text"},"Cargando Tareas..."),o.a.createElement("span",{className:"LoadingTodo-deleteIcon"}))}function h(){return o.a.createElement("p",null,"\xa1Crea tu primer Tarea!")}a(26);function T(e){var t=e.addTodo,a=e.setOpenModal,n=o.a.useState(""),r=Object(u.a)(n,2),c=r[0],l=r[1];return o.a.createElement("form",{onSubmit:function(e){e.preventDefault(),t(c),a(!1)}},o.a.createElement("label",null,"Escribe tu nueva Tarea"),o.a.createElement("textarea",{value:c,onChange:function(e){l(e.target.value)},placeholder:"Crea una nueva tarea"}),o.a.createElement("div",{className:"buttonContainer"},o.a.createElement("button",{className:"todoForm-button todoForm-button--cancel",type:"button",onClick:function(){a(!1)}},"Cancelar"),o.a.createElement("button",{type:"submit",className:"todoForm-button todoForm-button--add"},"A\xf1adir")))}a(28);function v(e){var t=e.openModal,a=e.setOpenModal;return o.a.createElement("button",{className:"createTodoButton",onClick:function(){a(!t)}},"+")}var b=a(3),O=a.n(b);a(30);function S(e){var t=e.children;return O.a.createPortal(o.a.createElement("div",{className:"modalBackground"},t),document.getElementById("modal"))}a(32);function y(e){var t=function(e){var t=o.a.useState(!1),a=Object(u.a)(t,2),n=a[0],r=a[1];return window.addEventListener("storage",function(e){"TODOS_V1"===e.key&&(console.log("hubo cambios"),r(!0))}),{show:n,toggleShow:function(){e(),r(!1)}}}(e.synchronize),a=t.show,n=t.toggleShow;return a?o.a.createElement("div",{className:"ChangeAlert-bg"},o.a.createElement("div",{className:"ChangeAlert-container"},o.a.createElement("p",null,"Parece que cambiaste tus TODOs en otra pesta\xf1a o ventana del navegador."),o.a.createElement("p",null,"\xbfQuieres sincronizar tus TODOs?"),o.a.createElement("button",{className:"TodoForm-button TodoForm-button--add",onClick:n},"Yes!"))):null}var N=function(){var e=d(),t=e.error,a=e.loading,n=e.searchedTodos,r=e.completeTodo,c=e.deleteTodo,l=e.openModal,u=e.setOpenModal,b=e.totalTodos,O=e.completedTodos,N=e.searchValue,C=e.setSearchValue,x=e.addTodo,w=e.synTodos;return o.a.createElement(o.a.Fragment,null,o.a.createElement(s,{loading:a},o.a.createElement(i,{totalTodos:b,completedTodos:O}),o.a.createElement(m,{searchValue:N,setSearchValue:C})),o.a.createElement(p,{error:t,loading:a,totalTodos:b,searchText:N,searchedTodos:n,onError:function(){return o.a.createElement(E,null)},onLoading:function(){return o.a.createElement(g,null)},onEmptyTodos:function(){return o.a.createElement(h,null)},onEmptySearchResults:function(e){return o.a.createElement("p",null,'No hay resultados para "',e,'"')},render:function(e){return o.a.createElement(f,{key:e.text,text:e.text,completed:e.completed,onComplete:function(){return r(e.text)},onDelete:function(){return c(e.text)}})}}),!!l&&o.a.createElement(S,null,o.a.createElement(T,{addTodo:x,setOpenModal:u})),o.a.createElement(v,{setOpenModal:u,openModal:l}),o.a.createElement(y,{synchronize:w}))};c.a.createRoot(document.getElementById("root")).render(o.a.createElement(N,null))}],[[6,2,1]]]);
//# sourceMappingURL=main.d7a5b2b9.chunk.js.map